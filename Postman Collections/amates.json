{
  "info": {
    "_postman_id": "889ed80c-311b-4e9a-b803-5903a3315edf",
    "name": "SdkChats_Test",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "auth",
      "item": [
        {
          "name": "register",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5d9c7e77-5874-4747-b914-d86243c356e2",
                "exec": [
                  "// Проверка 200 статуса",
                  "pm.test(\"Status code is 200\", function () {",
                  "pm.response.to.have.status(200);",
                  "//заносим в глобальную переменную токен",
                  "var jsonData = pm.response.json()[\"tokens\"][\"refreshToken\"];",
                  "pm.globals.set(\"refreshToken\", jsonData);",
                  "var jsonData = pm.response.json()[\"tokens\"][\"accessToken\"];",
                  "pm.globals.set(\"token\", jsonData);",
                  "});",
                  "",
                  "var jsonData = pm.response.json()[\"user\"][\"id\"];",
                  "pm.globals.set(\"userId\", jsonData);",
                  "",
                  "",
                  "",
                  "var jsonData = pm.response.json()[\"user\"][\"uid\"];",
                  "pm.globals.set(\"uid\", jsonData);",
                  "",
                  "",
                  "",
                  "  const schema = {",
                  "       \"type\":\"object\",",
                  "       \"required\": [\"user\",\"tokens\"],",
                  "       \"properties\":{",
                  "           \"user\":{",
                  "               \"type\":\"object\",",
                  "    \"required\": [",
                  "        \"id\",\"updatedAt\", \"createdAt\", \"uid\",\"deviceId\",\"reported\"",
                  "        ],",
                  "               \"properties\":{                     ",
                  "        \"id\":{",
                  "            \"type\":\"integer\"",
                  "            },     ",
                  "       \"updatedAt\":{",
                  "           \"type\":\"integer\"",
                  "           },",
                  "        \"createdAt\":{",
                  "            \"type\":\"integer\"",
                  "            },",
                  "        \"uid\":{",
                  "            \"type\":\"string\"",
                  "            },",
                  "         \"deviceId\":{",
                  "             \"type\":\"string\"",
                  "             },",
                  "        \"displayName\":{\"enum\":[null,\"string\"]",
                  "            },",
                  "            \"avatar\":{",
                  "                \"type\":\"null\"",
                  "                },",
                  "                \"role\":{\"enum\":[0,1]},",
                  "                \"reported\":{",
                  "                    \"const\":false",
                  "                    },",
                  "                 \"settings\":{",
                  "                    \"type\":\"object\",",
                  "                    \"properties\":{                    ",
                  "               \"likesMuted\":{",
                  "              \"const\":false",
                  "               },",
                  "              \"repliesMuted\":{",
                  "              \"const\":false",
                  "               },",
                  "              \"commentsMuted\":{",
                  "               \"const\":false",
                  "               },",
                  "               \"notCommentsMuted\":{",
                  "               \"const\":false",
                  "               },",
                  "               \"adminsTopicMuted\":{",
                  "               \"const\":false",
                  "               },               ",
                  "                    },",
                  "                       },",
                  "                    \"banned\":{",
                  "                        \"const\":false",
                  "                        },",
                  "               \"deleted\":{",
                  "                   \"const\":false",
                  "                   },",
                  "        },",
                  "       },",
                  "       },  ",
                  "       \"properties\":{",
                  "           \"tokens\":{",
                  "               \"type\":\"object\",",
                  "               \"required\":[\"accessToken\",\"refreshToken\"],",
                  "               \"properties\":{",
                  "               \"accessToken\":{",
                  "                   \"type\":\"string\"",
                  "               },",
                  "               \"refreshToken\":{",
                  "                   \"type\":\"string\"",
                  "               },",
                  "         },",
                  "           },",
                  "       }, ",
                  "         };",
                  "           pm.test(\"Валидация JSON схемы\",()=> {pm.response.to.have.jsonSchema(schema)});",
                  "    ",
                  "       ",
                  "  "
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9f25fa16-951d-49a1-a103-8d844681df1b",
                "exec": [
                  "var uuid = require('uuid');\r",
                  "pm.environment.set(\"deviceId\", uuid.v4());"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "07d393de-9a14-4ec2-8071-e952737ccd20",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "authtoken",
                "value": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InVpZCI6IkFkbWluIiwiaWQiOjF9LCJleHAiOjE2NDEzNjY3NDksImlhdCI6MTY0MDc2MTk0OX0.F4kj-mNyuxd8HTP3q72CKa28CXz3OmiqcNjlar-1Kx8",
                "type": "string",
                "disabled": true
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"deviceId\": \"{{deviceId}}\",\n    \"platform\": \"android\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/auth/register"
          },
          "response": []
        }
      ],
      "id": "8683c250-d00f-4064-b0b3-75505375d4b9"
    },
    {
      "name": "Topics",
      "item": [
        {
          "name": "create topic1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c7141cd7-369e-462f-a37f-ca8f946432c5",
                "exec": [
                  "var jsonData = pm.response.json()[\"id\"];\r",
                  "    pm.environment.set(\"chatID\", jsonData);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "965fb12c-cf34-416d-96a3-00343bb6ba75",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"title\":\"Hello\",\n    \"description\": \"test\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/"
          },
          "response": []
        },
        {
          "name": "create topic 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3a9a3ed1-29ca-4eeb-9b62-5b5bd0375fad",
                "exec": [
                  "var jsonData = pm.response.json()[\"id\"];\r",
                  "    pm.environment.set(\"chatID\", jsonData);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "aff00cb5-cf40-40cf-8434-38b424b556a6",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"title\":\"Hello\",\n    \"description\": \"test\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/"
          },
          "response": []
        },
        {
          "name": "join to topic",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c3aa892b-0003-4187-a85e-f2abe96785fc",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "a5952089-e98a-4f2f-9b23-8847f7a2fbab",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "url": "{{URL}}/v1/chats/100/join"
          },
          "response": []
        }
      ],
      "id": "9f15d8b4-219d-445a-ae57-3b6732011e06"
    },
    {
      "name": "messages",
      "item": [
        {
          "name": "create message1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b713f63e-1d6a-4283-8ff5-fe2a034e6de8",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });\r",
                  "var jsonData = pm.response.json()[\"id\"];\r",
                  "    pm.environment.set(\"itemID\", jsonData);\r",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "8f7a5bf4-4962-4a81-9b70-0d15b4267d91",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "d72a137b-46c9-4091-92f0-a8ee768c3507",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"type\": \"text\",\n    \"content\": \"Have a nice day!\",\n    \"mimetype\": \"text/plain\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/{{chatID}}/messages/"
          },
          "response": []
        },
        {
          "name": "create message2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ef72397b-25d3-4c47-84ce-c5a3cb714467",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });\r",
                  "var jsonData = pm.response.json()[\"id\"];\r",
                  "    pm.environment.set(\"itemID\", jsonData);\r",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "49cf09f1-53b4-4746-a33c-628e2815f34c",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "b93f8965-623c-4593-a823-dbf7764f58f6",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"type\": \"text\",\n    \"content\": \"Who loves fishing?\",\n    \"mimetype\": \"text/plain\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/{{chatID}}/messages/"
          },
          "response": []
        }
      ],
      "id": "20b674f2-4a92-4bbc-8f2b-13f82fba6f14"
    },
    {
      "name": "likes",
      "item": [
        {
          "name": "like message",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "506eec9d-609b-40bd-a066-399f5b97f4fa",
                "exec": [
                  "if (pm.response.status===401) { \r",
                  "\r",
                  "pm.sendRequest(\"https://postman-echo.com/get\", function (err, response) {\r",
                  "    console.log(response.json());\r",
                  "})};"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "9323e33f-ccb9-4afe-afa1-e321a4ccae01",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"itemId\": {{itemID}}\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/likes/likeMessage"
          },
          "response": []
        },
        {
          "name": "unlikeMessage",
          "id": "fba5f6ab-3d1a-4a83-84ec-9a96646c084a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"itemId\": {{itemID}}\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/likes/unlikeMessage"
          },
          "response": []
        }
      ],
      "id": "abda36b9-59b7-439a-bff1-2efd25dad4de"
    },
    {
      "name": "replies",
      "item": [
        {
          "name": "create reply",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e0b43fed-620e-4d87-8850-3d6e7b75bc06",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });\r",
                  "var jsonData = pm.response.json()[\"id\"];\r",
                  "    pm.environment.set(\"replyID\", jsonData);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "15d63e2d-e6d9-4b6a-a00a-f4964d8f1e58",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"type\": \"text\",\n    \"content\": \"Postman_reply\",\n    \"mimetype\": \"text/plain\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/{{chatID}}/messages/{{itemID}}/replies"
          },
          "response": []
        },
        {
          "name": "create reply / type = image",
          "id": "32c4d194-c3bc-4039-a92e-ff856740b4f3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"type\": \"image\",\r\n    \"imageId\": 58,\r\n    \"previewId\": 59,\r\n    \"mimetype\": \"image/jpeg\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/1/messages/42/replies"
          },
          "response": []
        },
        {
          "name": "create reply / type = image-text",
          "id": "1b34bde9-f518-40db-8e37-8033a0578fea",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"type\": \"image-text\",\r\n    \"imageId\": 1,\r\n    \"previewId\": 2,\r\n    \"content\": \"nice!\",\r\n    \"mimetype\": \"image/jpeg\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/1/messages/42/replies"
          },
          "response": []
        },
        {
          "name": "get first replies",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8e8c70fb-12b5-406f-8192-07c1872588b0",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "dbe209bb-07d2-4208-be68-83143596aebf",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/v1/chats/{{chatID}}/messages/{{itemID}}/replies/first?limit=200&authors=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "v1",
                "chats",
                "{{chatID}}",
                "messages",
                "{{itemID}}",
                "replies",
                "first"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "200"
                },
                {
                  "key": "authors",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get last replies",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ccc3d567-0fc4-40b8-ab6b-e056f8ff8293",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "1e4979c2-999c-45e1-a7d8-cde9f1b62c62",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/v1/chats/{{chatID}}/messages/{{itemID}}/replies/last?limit=5&authors=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "v1",
                "chats",
                "{{chatID}}",
                "messages",
                "{{itemID}}",
                "replies",
                "last"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "5"
                },
                {
                  "key": "authors",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get replies after",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21ada803-882a-404c-9682-a5cc55740978",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "1a873c03-2250-4a0e-8537-1805ba2e3803",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/v1/chats/{{chatID}}/messages/{{itemID}}/replies/after?id=2&limit=2",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "v1",
                "chats",
                "{{chatID}}",
                "messages",
                "{{itemID}}",
                "replies",
                "after"
              ],
              "query": [
                {
                  "key": "id",
                  "value": "2"
                },
                {
                  "key": "limit",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get replies before",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2f0d99a4-3235-4e2a-b849-3a079351d749",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "b9bdcda3-d27a-4531-a01f-6904a3f7cf59",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/v1/chats/{{chatID}}/messages/{{itemID}}/replies/before?id=2&limit=2",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "v1",
                "chats",
                "{{chatID}}",
                "messages",
                "{{itemID}}",
                "replies",
                "before"
              ],
              "query": [
                {
                  "key": "id",
                  "value": "2"
                },
                {
                  "key": "limit",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get updates",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6bfbe345-e757-48be-8e25-a1f9dfe623ba",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "84f4ae08-f2e1-4a1f-9628-528a52ac7a6a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/v1/chats/{{chatID}}/messages/{{itemID}}/replies/updates?startId=2&endId=3&time=0",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "v1",
                "chats",
                "{{chatID}}",
                "messages",
                "{{itemID}}",
                "replies",
                "updates"
              ],
              "query": [
                {
                  "key": "startId",
                  "value": "2"
                },
                {
                  "key": "endId",
                  "value": "3"
                },
                {
                  "key": "time",
                  "value": "0"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "bulk create replies (test)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "36848f9e-8461-4da8-a918-94de3f4dab20",
                "exec": [
                  "var jsonData = pm.response.json()[\"id\"];\r",
                  "    pm.environment.set(\"replyID\", jsonData);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "ad5e2249-5f38-43c7-9cf3-0a3355ebfa71",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"type\": \"text\",\n    \"content\": \"my reply\",\n    \"limit\": 10\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/3/messages/1/replies/bulk"
          },
          "response": []
        },
        {
          "name": "update reply",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7741f621-8761-4a5f-8040-2505e3c17380",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "da010037-1059-4b8a-88b9-1afe257d66f3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"type\": \"text\",\r\n    \"content\": \"Postman_edited_reply\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/chats/{{chatID}}/messages/{{itemID}}/replies/{{replyID}}"
          },
          "response": []
        },
        {
          "name": "delete Reply",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "21ff2921-64f8-40bf-87e6-3d7ae472d737",
                "exec": [
                  "pm.test(\"Status code is 200\", function () {\r",
                  "    pm.response.to.have.status(200);\r",
                  "   });"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "8bb0e892-2110-4e16-8ec7-011cc54383fc",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "{{URL}}/v1/chats/{{chatID}}/messages/{{itemID}}/replies/{{replyID}}"
          },
          "response": []
        }
      ],
      "id": "7e1b83cf-0f2b-441a-a1e0-c098e32f1967"
    },
    {
      "name": "push notifications",
      "item": [
        {
          "name": "register",
          "id": "f6322ce4-90ef-4d9f-964d-7f7340eaf9bc",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"token\": \"{{pushToken}}\",\n    \"deviceId\": \"{{deviceId}}\",\n    \"platform\": \"firebase\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/push/register"
          },
          "response": []
        },
        {
          "name": "send push to test device",
          "id": "bf90df8a-eb8b-4bb3-9f84-a6722b757ac7",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"id\": 15990\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/push/sendTest"
          },
          "response": []
        },
        {
          "name": "unregister",
          "id": "b583a206-8975-4e41-99cb-85a18c053ebc",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"deviceId\": \"jmeter123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/push/unregister"
          },
          "response": []
        },
        {
          "name": "switch push type",
          "id": "646c7e49-f298-4d7a-a6db-18aee7775263",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"key\": \"message\",\r\n    \"enabled\": false\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/push/switch"
          },
          "response": []
        },
        {
          "name": "get config",
          "id": "cd7b5785-7873-43e5-ac1e-a6703257c02a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{URL}}/v1/push/config"
          },
          "response": []
        }
      ],
      "id": "65f53c6e-4a0b-4548-8cda-b2fdf5156afe"
    },
    {
      "name": "search",
      "item": [
        {
          "name": "seach in messages",
          "id": "6a2f2849-b25a-4716-850a-893bb5677d73",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"query\": \"nice\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/search"
          },
          "response": []
        },
        {
          "name": "search in chats",
          "id": "9faded51-9d02-4043-bed6-f0bf89e498ef",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"query\": \"jmetter2\",\n    \"limit\": 20,\n    \"offset\": 0\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/search/chats"
          },
          "response": []
        },
        {
          "name": "seach in replies",
          "id": "2e484cb5-dfb0-4bd1-8412-570382ca85fa",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"query\": \"hello\",\n    \"messageId\": 1,\n    \"limit\": 20,\n    \"offset\": 0\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/search/replies"
          },
          "response": []
        },
        {
          "name": "global search",
          "id": "9b18bb9b-1727-48f5-885f-431ee917b2db",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/v1/search/all?query=Title3&limit=10&offset=0",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "v1",
                "search",
                "all"
              ],
              "query": [
                {
                  "key": "query",
                  "value": "Title3"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "offset",
                  "value": "0"
                }
              ]
            }
          },
          "response": []
        }
      ],
      "id": "4ebf88d1-9dc6-434f-a1b7-a9c90a7ce679"
    },
    {
      "name": "files",
      "item": [
        {
          "name": "upload file",
          "id": "419a1712-887c-461e-8dcc-0495c6e19f2a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "/home/dad/SdkChats.postman_collection.json"
                }
              ]
            },
            "url": "{{URL}}/v1/files/upload"
          },
          "response": []
        },
        {
          "name": "get s3 file",
          "id": "186e7b5b-d491-43fe-bd99-3becd9978542",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": "https://sdk-chats.s3.amazonaws.com/73d7f7f927e5b99e49e37ccd1abba0e2"
          },
          "response": []
        },
        {
          "name": "upload image",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8673d081-afb0-4f7e-8974-b3d6fee1b850",
                "exec": [
                  "if (pm.response.status === 401) {\r",
                  "    postman.setNextRequest(\"restore\");\r",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "id": "342f83c9-ec79-4dab-98e4-197a8eb0087c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "/D:/downloads/hqdefault.jpg"
                }
              ]
            },
            "url": "{{URL}}/v1/files/uploadImage"
          },
          "response": []
        },
        {
          "name": "upload large image",
          "id": "26a38cf3-ccce-48fd-800c-0f90adb7d63d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "/L:/Canon4/Processed/NastyaKoko/pre/IMG_1466.jpg"
                }
              ]
            },
            "url": "{{URL}}/v1/files/uploadImage"
          },
          "response": []
        }
      ],
      "id": "285bfdb2-40ca-4e30-bdff-701de9a236d7"
    },
    {
      "name": "metrics",
      "item": [
        {
          "name": "create metrics",
          "id": "331a41fa-3d73-483f-bdd8-83cb55a7f78a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n\t\"events\": [ {\r\n\t\t\"key\": \"push.opened\",\r\n\t\t\"createdAt\": 1643722917311,\r\n\t\t\"language\": \"ru_RU\",\r\n\t\t\"platform\": \"android\",\r\n\t\t\"version\": \"1.0\",\r\n\t\t\"id\": {{chatID}},\r\n\t\t\"type\": \"message\"\r\n\t}]\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/metrics"
          },
          "response": []
        }
      ],
      "id": "2913b02c-d3fa-441c-8a7b-fe862961c08a"
    },
    {
      "name": "test devices",
      "item": [
        {
          "name": "create",
          "id": "2101a1af-f9be-4a51-b931-00e4a6a22db4",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"name\": \"sergey\",\r\n    \"token\": \"12341234123412341234\",\r\n\t\"platform\": \"firebase\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/devices"
          },
          "response": []
        },
        {
          "name": "get all",
          "id": "9e8501cc-f353-41df-a5e0-d5e9ebbfa6bc",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{URL}}/v1/devices"
          },
          "response": []
        },
        {
          "name": "delete",
          "id": "acc20abf-c379-47e0-84ed-4df862f17b64",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "{{URL}}/v1/devices/2"
          },
          "response": []
        }
      ],
      "id": "f00acde4-aa32-4479-b012-493dec4caa8f"
    },
    {
      "name": "policies",
      "item": [
        {
          "name": "create or update",
          "id": "3a6cb364-9ff9-40b2-9250-f53ca76cd13a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"key\": \"push-controls-enabled\",\r\n    \"value\": \"true\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/policies"
          },
          "response": []
        },
        {
          "name": "get all",
          "id": "9ad35dc4-d325-47de-b117-3c8295e9d590",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{URL}}/v1/policies/"
          },
          "response": []
        },
        {
          "name": "get by key",
          "id": "dfe06235-9e0e-45d1-8606-507f806553d0",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{URL}}/v1/policies/allow-creation"
          },
          "response": []
        },
        {
          "name": "delete by key",
          "id": "e0dd88ac-0309-4a7e-a4bf-91b5619136e6",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "DELETE",
            "header": [],
            "url": "{{URL}}/v1/policies/push-controls-enabled"
          },
          "response": []
        },
        {
          "name": "get all my policies",
          "id": "d533e6f9-c127-4500-9629-9219d83abba6",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "url": "{{URL}}/v1/policies/my"
          },
          "response": []
        },
        {
          "name": "create or update my policy",
          "id": "922dd3e5-9cd5-4843-999c-bd127370a6c3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"key\": \"replies_muted\",\r\n    \"value\": \"true\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": "{{URL}}/v1/policies/my"
          },
          "response": []
        }
      ],
      "id": "687a9dc1-7ce8-4f0d-b2d6-56ac121182e5"
    }
  ],
  "auth": {
    "type": "apikey",
    "apikey": {
      "value": "{{token}}",
      "in": "header",
      "key": "authtoken"
    }
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ],
        "id": "d55dedcd-b0b8-484c-9cc9-ff6ba707f9ce"
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ],
        "id": "84f27634-04e9-432f-a757-a5630bc1addf"
      }
    }
  ]
}